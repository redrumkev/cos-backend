============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-8.4.0, pluggy-1.6.0
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: G:\cos
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.9.0, hypothesis-6.135.6, logfire-3.18.0, asyncio-0.26.0, benchmark-5.1.0, cov-6.1.1, mock-3.14.1, xdist-3.7.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collected 831 items

<Dir cos>
  <Package tests>
    <Package backend>
      <Package cc>
        <Module test_cc_main.py>
          <Class TestCCMain>
            <Function test_cc_app_creation>
            <Function test_cc_router_creation>
            <Coroutine test_lifespan_startup>
            <Coroutine test_lifespan_shutdown>
            <Function test_app_includes_router>
            <Function test_app_with_test_client>
            <Function test_app_startup_shutdown_integration>
          <Class TestLifespanIsolated>
            <Coroutine test_lifespan_exception_handling>
        <Module test_cc_request_id_integration.py>
          <Class TestCCRequestIDIntegration>
            <Function test_request_id_middleware_added_to_cc_app>
            <Function test_request_id_middleware_with_health_endpoint>
            <Function test_request_id_middleware_with_config_endpoint>
            <Function test_request_id_middleware_preserves_existing_header>
            <Function test_request_id_middleware_with_debug_endpoint>
            <Function test_request_id_middleware_ordering_before_logfire>
            <Function test_request_id_middleware_logfire_integration>
            <Function test_request_id_middleware_no_interference_with_response_content>
            <Function test_request_id_middleware_concurrent_requests>
            <Function test_request_id_middleware_case_insensitive_header>
          <Class TestCCRequestIDMiddlewareErrorHandling>
            <Function test_middleware_graceful_degradation_logfire_error>
            <Function test_middleware_handles_malformed_request_gracefully>
          <Class TestCCRequestIDMiddlewareCompatibility>
            <Function test_middleware_compatible_with_existing_endpoints>
            <Function test_middleware_preserves_fastapi_functionality>
        <Module test_crud.py>
          <Class TestGetSystemHealth>
            <Coroutine test_get_system_health_empty>
            <Coroutine test_get_system_health_single_record>
            <Coroutine test_get_system_health_returns_latest>
            <Coroutine test_get_system_health_multiple_records_order>
          <Class TestModuleCRUD>
            <Coroutine test_create_module_success>
            <Coroutine test_create_module_with_config>
            <Coroutine test_get_module_by_id_exists>
            <Coroutine test_get_module_by_id_not_exists>
            <Coroutine test_get_module_by_name_exists>
            <Coroutine test_get_module_by_name_not_exists>
            <Coroutine test_get_modules_empty>
            <Coroutine test_get_modules_with_data>
            <Coroutine test_get_modules_pagination>
            <Coroutine test_update_module_success>
            <Coroutine test_update_module_not_exists>
            <Coroutine test_update_module_ignore_invalid_fields>
            <Coroutine test_delete_module_success>
            <Coroutine test_delete_module_not_exists>
        <Module test_crud_coverage.py>
          <Class TestUpdateModuleStatusFunction>
            <Coroutine test_update_module_status_covers_logging_and_return>
            <Coroutine test_update_module_status_different_module>
            <Coroutine test_update_module_status_offline_status>
          <Class TestGetActiveModulesFunction>
            <Coroutine test_get_active_modules_covers_logging_and_query>
            <Coroutine test_get_active_modules_empty_result>
            <Coroutine test_get_active_modules_single_module>
          <Class TestCRUDQueryStructure>
            <Function test_get_active_modules_query_structure>
        <Module test_database_schema.py>
          <Coroutine test_cc_tables_exist>
        <Module test_deps.py>
          <Coroutine test_get_cc_db_returns_session>
          <Function test_dependency_injection_client>
          <Coroutine test_get_cc_db_with_real_session>
          <Function test_dependency_error_handling>
          <Coroutine test_back_compat_alias>
          <Function test_dbsession_type_annotation>
        <Module test_deps_coverage.py>
          <Class TestGetModuleConfigFunction>
            <Coroutine test_get_module_config_covers_logging_and_return>
            <Coroutine test_get_module_config_logs_on_every_call>
            <Coroutine test_get_module_config_return_consistency>
            <Coroutine test_get_module_config_without_logging_mock>
            <Coroutine test_get_module_config_log_parameters_coverage>
        <Module test_deps_isolated.py>
          <Function test_dependency_imports>
          <Coroutine test_get_cc_db_with_mock_session>
          <Function test_dependency_in_fastapi_context>
          <Function test_dbsession_annotation_with_override>
          <Function test_multiple_dependencies>
        <Module test_health_check.py>
          <Function test_health_check>
          <Function test_system_health_report>
          <Function test_health_check_invalid_method>
          <Function test_system_health_report_invalid_method>
          <Function test_non_existent_endpoint>
        <Module test_log_l1.py>
          <Class TestLogL1Basic>
            <Coroutine test_basic_log_creation>
            <Coroutine test_event_log_creation>
            <Coroutine test_prompt_trace_creation>
            <Coroutine test_combined_logging>
          <Class TestLogL1RequestHandling>
            <Coroutine test_request_id_from_context>
            <Coroutine test_request_id_fallback_to_uuid>
            <Coroutine test_provided_request_id_priority>
            <Coroutine test_request_id_uuid_conversion>
          <Class TestLogL1LogfireIntegration>
            <Coroutine test_trace_id_extraction>
            <Coroutine test_span_attribute_setting>
            <Coroutine test_logfire_graceful_degradation_missing_function>
            <Coroutine test_logfire_graceful_degradation_span_error>
            <Coroutine test_provided_trace_id_priority>
          <Class TestLogL1EdgeCases>
            <Coroutine test_empty_payload>
            <Coroutine test_empty_prompt_data>
            <Coroutine test_partial_prompt_data>
            <Coroutine test_none_values_handling>
            <Coroutine test_complex_payload_data>
          <Class TestLogL1Performance>
            <Coroutine test_log_l1_latency_event_only>
            <Coroutine test_log_l1_latency_prompt_only>
            <Coroutine test_log_l1_latency_combined_scenario>
            <Coroutine test_log_l1_baseline_minimal>
            <Coroutine test_log_l1_performance_consistency>
          <Class TestLogL1DatabaseIntegrity>
            <Coroutine test_transaction_rollback_on_error>
            <Coroutine test_foreign_key_relationships>
            <Coroutine test_concurrent_logging_safety>
        <Module test_log_l1_simple.py>
          <Coroutine test_simple_log_creation>
        <Module test_logfire_instrumentation.py>
          <Class TestLogfireInitialization>
            <Function test_initialize_logfire_when_unavailable>
            <Function test_initialize_logfire_missing_token>
            <Function test_initialize_logfire_success>
            <Function test_initialize_logfire_configuration_error>
          <Class TestFastAPIInstrumentation>
            <Function test_instrument_fastapi_app_when_unavailable>
            <Function test_instrument_fastapi_app_success>
            <Function test_instrument_fastapi_app_error>
            <Function test_request_attributes_mapper_functionality>
            <Function test_request_attributes_mapper_missing_headers>
          <Class TestLifespanIntegration>
            <Function test_lifespan_startup_with_logfire_available>
            <Function test_lifespan_startup_with_logfire_unavailable>
            <Function test_lifespan_startup_partial_failure>
          <Class TestIntegrationScenarios>
            <Function test_cc_app_creation_with_logfire_available>
            <Function test_cc_app_creation_with_logfire_unavailable>
            <Function test_cc_app_health_endpoint_functionality>
            <Function test_error_handling_preserves_app_functionality>
          <Function test_logging_configuration>
        <Module test_mem0_crud.py>
          <Class TestMem0CRUD>
            <Coroutine test_create_scratch_note_basic>
            <Coroutine test_create_scratch_note_with_ttl>
            <Coroutine test_get_scratch_note_by_id>
            <Coroutine test_get_scratch_note_nonexistent>
            <Coroutine test_get_scratch_note_by_key>
            <Coroutine test_get_scratch_note_by_key_nonexistent>
            <Coroutine test_update_scratch_note>
            <Coroutine test_update_scratch_note_nonexistent>
            <Coroutine test_delete_scratch_note>
            <Coroutine test_delete_scratch_note_nonexistent>
            <Coroutine test_list_scratch_notes_basic>
            <Coroutine test_list_scratch_notes_with_key_prefix>
            <Coroutine test_list_scratch_notes_exclude_expired>
            <Coroutine test_list_scratch_notes_include_expired>
            <Coroutine test_list_scratch_notes_pagination>
            <Coroutine test_cleanup_expired_notes>
            <Coroutine test_cleanup_expired_notes_batch_processing>
            <Coroutine test_count_scratch_notes>
            <Coroutine test_get_expired_notes_count>
            <Coroutine test_error_handling_database_error>
            <Coroutine test_transaction_rollback_on_error>
        <Module test_mem0_models.py>
          <Class TestScratchNoteModel>
            <Function test_scratch_note_creation_basic>
            <Function test_scratch_note_creation_with_ttl>
            <Function test_scratch_note_expiration_check>
            <Function test_scratch_note_repr>
            <Function test_scratch_note_table_configuration>
          <Class TestMem0TableArgs>
            <Function test_table_args_with_db_integration_enabled>
            <Function test_table_args_with_db_integration_disabled>
            <Function test_table_args_default_behavior>
          <Class TestScratchNoteDatabase>
            <Coroutine test_scratch_note_database_creation>
            <Coroutine test_scratch_note_schema_isolation>
            <Coroutine test_scratch_note_ttl_query_optimization>
        <Module test_mem0_router.py>
          <Class TestMem0Router>
            <Coroutine test_create_note_endpoint>
            <Coroutine test_create_note_validation_error>
            <Coroutine test_create_note_server_error>
            <Coroutine test_get_note_by_id_endpoint>
            <Coroutine test_get_note_by_id_not_found>
            <Coroutine test_get_note_by_key_endpoint>
            <Coroutine test_get_note_by_key_not_found>
            <Coroutine test_list_notes_endpoint>
            <Coroutine test_list_notes_with_filters>
            <Coroutine test_list_notes_expired_filter>
            <Coroutine test_update_note_endpoint>
            <Coroutine test_update_note_not_found>
            <Coroutine test_delete_note_endpoint>
            <Coroutine test_delete_note_not_found>
            <Coroutine test_get_stats_endpoint>
            <Coroutine test_trigger_cleanup_endpoint>
            <Coroutine test_trigger_cleanup_background_endpoint>
            <Coroutine test_collect_stats_background_endpoint>
            <Coroutine test_router_prefix_and_tags>
            <Coroutine test_query_parameter_validation>
            <Coroutine test_request_body_validation>
            <Coroutine test_response_model_validation>
            <Coroutine test_error_handling_consistency>
            <Coroutine test_background_task_integration>
            <Coroutine test_concurrent_requests>
            <Coroutine test_large_content_handling>
            <Coroutine test_special_characters_in_key>
        <Module test_mem0_service.py>
          <Class TestMem0Service>
            <Coroutine test_create_note_basic>
            <Coroutine test_create_note_with_ttl>
            <Coroutine test_create_note_key_validation>
            <Coroutine test_create_note_default_ttl>
            <Coroutine test_get_note>
            <Coroutine test_get_note_by_key>
            <Coroutine test_update_note>
            <Coroutine test_delete_note>
            <Coroutine test_list_notes_validation>
            <Coroutine test_list_notes_with_filters>
            <Coroutine test_run_cleanup>
            <Coroutine test_run_cleanup_with_config>
            <Coroutine test_get_stats>
            <Coroutine test_get_stats_ttl_settings>
            <Coroutine test_logging_integration>
            <Coroutine test_error_handling_crud_failure>
            <Coroutine test_performance_timing>
            <Coroutine test_concurrent_operations>
            <Coroutine test_edge_case_empty_content>
            <Coroutine test_ttl_boundary_conditions>
        <Module test_models.py>
          <Class TestHealthStatusModel>
            <Function test_table_name_and_schema>
            <Function test_columns_exist>
            <Function test_column_types>
            <Function test_instance_creation>
            <Function test_repr>
            <Function test_default_field_definitions>
          <Class TestModuleModel>
            <Function test_table_name_and_schema>
            <Function test_columns_exist>
            <Function test_column_types>
            <Function test_instance_creation>
            <Function test_repr>
            <Function test_default_field_definitions>
          <Class TestDeclarativeBase>
            <Function test_base_type>
            <Function test_health_status_inherits_base>
            <Function test_module_inherits_base>
          <Class TestEdgeCases>
            <Function test_health_status_required_fields>
            <Function test_module_required_fields>
        <Module test_models_coverage.py>
          <Class TestUUIDType>
            <Function test_uuid_type_cache_ok>
            <Function test_uuid_type_load_dialect_impl_postgres>
            <Function test_uuid_type_load_dialect_impl_sqlite>
            <Function test_uuid_type_process_bind_param_with_value>
            <Function test_uuid_type_process_bind_param_with_none>
            <Function test_uuid_type_process_result_value_with_value>
            <Function test_uuid_type_process_result_value_with_none>
          <Class TestTableArgs>
            <Function test_get_table_args_db_integration_enabled>
            <Function test_get_table_args_db_integration_disabled>
            <Function test_get_table_args_no_env_var>
          <Class TestModuleModelInit>
            <Function test_module_init_without_id_adds_uuid>
            <Function test_module_init_with_id_keeps_provided_id>
            <Function test_module_init_without_active_defaults_to_true>
            <Function test_module_init_with_active_false_keeps_value>
            <Function test_module_init_full_kwargs_coverage>
          <Class TestHealthStatusModel>
            <Function test_health_status_repr>
            <Function test_health_status_defaults>
            <Function test_health_status_with_details>
            <Function test_health_status_custom_timestamp>
          <Class TestModuleModel>
            <Function test_module_repr>
            <Function test_module_repr_inactive>
            <Function test_module_defaults>
            <Function test_module_with_config>
            <Function test_module_inactive>
            <Function test_module_custom_timestamp>
          <Class TestModelTableConfiguration>
            <Function test_health_status_table_name>
            <Function test_module_table_name>
            <Function test_models_extend_base>
            <Function test_models_use_table_args>
        <Module test_router.py>
          <Class TestModuleRouterEndpoints>
            <Function test_create_module_success>
            <Function test_create_module_minimal_data>
            <Function test_create_module_validation_error>
            <Function test_create_module_duplicate_name>
            <Function test_list_modules_empty>
            <Function test_list_modules_with_data>
            <Function test_list_modules_pagination>
            <Function test_get_module_success>
            <Function test_get_module_not_found>
            <Function test_update_module_success>
            <Function test_update_module_partial>
            <Function test_update_module_not_found>
            <Function test_update_module_name_conflict>
            <Function test_delete_module_success>
            <Function test_delete_module_not_found>
            <Function test_module_crud_workflow>
        <Module test_router_debug.py>
          <Class TestDebugLogRouter>
            <Coroutine test_debug_log_basic_event>
            <Coroutine test_debug_log_minimal_request>
            <Coroutine test_debug_log_validation_error>
            <Coroutine test_debug_log_with_custom_ids>
            <Coroutine test_debug_log_performance_benchmark>
            <Function test_debug_log_endpoint_exists>
        <Module test_router_direct.py>
          <Class TestRouterDirectCoverage>
            <Coroutine test_health_check_success_covers_lines_46_58>
            <Coroutine test_health_check_no_record_covers_lines_53_58>
            <Coroutine test_get_config_covers_lines_72_78>
            <Coroutine test_get_status_covers_logging>
            <Coroutine test_ping_unknown_module_covers_lines_96_97>
            <Coroutine test_ping_known_module_covers_line_98>
            <Coroutine test_system_health_report_covers_lines_120_128>
            <Coroutine test_create_module_success_covers_lines_171_173>
            <Coroutine test_create_module_value_error_covers_lines_172_173>
            <Coroutine test_get_module_success_covers_line_197>
            <Coroutine test_get_module_not_found_covers_404>
            <Coroutine test_list_modules_covers_pagination>
            <Coroutine test_update_module_success_covers_lines_251_256>
            <Coroutine test_update_module_not_found_covers_404>
            <Coroutine test_update_module_value_error_covers_exception>
            <Coroutine test_delete_module_success_covers_lines_279_282>
            <Coroutine test_delete_module_not_found_covers_404>
        <Module test_schemas.py>
          <Function test_health_status_schema>
          <Function test_ccconfig_schema>
          <Function test_module_health_status_schema>
          <Function test_system_health_report_schema>
          <Function test_module_ping_request_schema>
          <Function test_module_ping_response_schema>
        <Module test_schemas_coverage.py>
          <Class TestFieldSerializers>
            <Function test_health_status_response_serialize_last_updated>
            <Function test_module_serialize_last_active>
          <Class TestSchemaValidation>
            <Function test_module_ping_request_empty_module_validation>
            <Function test_module_base_validation_edge_cases>
            <Function test_module_update_optional_fields>
          <Class TestSchemaDefaults>
            <Function test_health_status_default>
            <Function test_cc_config_defaults>
          <Class TestSchemaExamples>
            <Function test_health_status_example>
            <Function test_health_status_response_example>
            <Function test_module_ping_request_example>
            <Function test_module_ping_response_example>
          <Class TestSchemaConfigDict>
            <Function test_health_status_response_from_attributes>
            <Function test_module_from_attributes>
        <Module test_services.py>
          <Class TestModuleServices>
            <Coroutine test_create_module_success>
            <Coroutine test_create_module_with_config>
            <Coroutine test_create_module_duplicate_name_error>
            <Coroutine test_get_module_exists>
            <Coroutine test_get_module_not_exists>
            <Coroutine test_get_module_by_name_exists>
            <Coroutine test_get_module_by_name_not_exists>
            <Coroutine test_get_modules_empty>
            <Coroutine test_get_modules_with_data>
            <Coroutine test_get_modules_pagination>
            <Coroutine test_update_module_success>
            <Coroutine test_update_module_not_exists>
            <Coroutine test_update_module_name_conflict>
            <Coroutine test_update_module_same_name>
            <Coroutine test_delete_module_success>
            <Coroutine test_delete_module_not_exists>
        <Module test_services_edge_cases.py>
          <Class TestGetStatusFunction>
            <Function test_get_status_returns_correct_format>
          <Class TestReadSystemHealthFunction>
            <Coroutine test_read_system_health_returns_health_record>
            <Coroutine test_read_system_health_returns_none>
          <Class TestCheckSystemHealthFunction>
            <Coroutine test_check_system_health_with_healthy_status>
            <Coroutine test_check_system_health_with_degraded_status>
            <Coroutine test_check_system_health_with_no_health_record>
          <Class TestGetCcConfigurationFunction>
            <Coroutine test_get_cc_configuration_returns_config>
            <Coroutine test_get_cc_configuration_with_empty_modules>
          <Class TestPingModuleFunction>
            <Coroutine test_ping_module_known_cc_module>
            <Coroutine test_ping_module_known_mem0_module>
            <Coroutine test_ping_module_unknown_module>
          <Class TestCreateModuleFunction>
            <Coroutine test_create_module_success>
            <Coroutine test_create_module_duplicate_name_raises_error>
          <Class TestUpdateModuleFunction>
            <Coroutine test_update_module_name_conflict_raises_error>
            <Coroutine test_update_module_name_same_module_allowed>
            <Coroutine test_update_module_no_name_field>
          <Class TestServiceLoggingCalls>
            <Coroutine test_get_module_logs_properly>
            <Coroutine test_get_module_by_name_logs_properly>
            <Coroutine test_get_modules_logs_properly>
            <Coroutine test_delete_module_logs_properly>
        <Module test_services_mem0.py>
          <Class TestServicesCompleteCoverage>
            <Coroutine test_ping_module_mem0>
      <Module test_cc.py>
        <Function test_cc_status>
    <Package common>
      <Module test_config.py>
        <Function test_settings_loads_from_env>
        <Function test_settings_type_coercion>
        <Function test_settings_missing_critical>
        <Function test_mem0_schema_default>
        <Function test_mem0_schema_env_override>
        <Function test_mem0_schema_type>
      <Module test_config_coverage.py>
        <Class TestSettingsEnvironmentLoading>
          <Function test_env_file_explicit_exists>
          <Function test_env_file_infrastructure_path>
          <Function test_env_file_not_exists>
        <Class TestSettingsProperties>
          <Function test_sync_db_url_property>
          <Function test_async_db_url_postgresql_conversion>
          <Function test_async_db_url_already_asyncpg>
          <Function test_async_db_url_non_postgresql>
        <Class TestSettingsDefaults>
          <Function test_settings_defaults>
          <Function test_settings_with_custom_values>
          <Function test_redis_password_none>
        <Class TestSettingsFunctions>
          <Function test_get_settings_cached>
          <Coroutine test_get_settings_dep>
          <Function test_get_settings_lru_cache_info>
        <Class TestSettingsConfigDict>
          <Function test_model_config_properties>
      <Module test_database.py>
        <Function test_engine_is_sqlalchemy_engine>
        <Function test_async_engine_is_asyncengine>
        <Function test_sessionlocal_creates_session>
        <Coroutine test_asyncsessionlocal_creates_asyncsession>
        <Coroutine test_async_engine_can_connect_and_execute_select_1>
        <Coroutine test_async_session_can_execute_simple_query>
        <Function test_async_engine_configured_with_pooling_and_timeouts>
        <Coroutine test_async_engine_connection_failure_logs_rich_error>
        <Coroutine test_async_session_pool_exhaustion_logs_rich_error>
        <Function test_rich_log_output_includes_color_and_emoji>
        <Function test_all_config_loaded_from_env>
        <Function test_module_docstrings_and_onboarding_comments>
        <Function test_no_warnings_or_deprecations_in_output>
      <Module test_imports.py>
        <Function test_import_module_smoke[src.backend]>
        <Function test_import_module_smoke[src.backend.cc]>
        <Function test_import_module_smoke[src.backend.cc.background]>
        <Function test_import_module_smoke[src.backend.cc.cc_main]>
        <Function test_import_module_smoke[src.backend.cc.crud]>
        <Function test_import_module_smoke[src.backend.cc.deps]>
        <Function test_import_module_smoke[src.backend.cc.logging]>
        <Function test_import_module_smoke[src.backend.cc.mem0_crud]>
        <Function test_import_module_smoke[src.backend.cc.mem0_models]>
        <Function test_import_module_smoke[src.backend.cc.mem0_router]>
        <Function test_import_module_smoke[src.backend.cc.mem0_service]>
        <Function test_import_module_smoke[src.backend.cc.models]>
        <Function test_import_module_smoke[src.backend.cc.router]>
        <Function test_import_module_smoke[src.backend.cc.schemas]>
        <Function test_import_module_smoke[src.backend.cc.services]>
        <Function test_import_module_smoke[src.common]>
        <Function test_import_module_smoke[src.common.config]>
        <Function test_import_module_smoke[src.common.database]>
        <Function test_import_module_smoke[src.common.ledger_view]>
        <Function test_import_module_smoke[src.common.logger]>
        <Function test_import_module_smoke[src.common.logger_logfire]>
        <Function test_import_module_smoke[src.common.request_id_middleware]>
        <Function test_import_module_smoke[src.cos_main]>
        <Function test_import_module_smoke[src.db]>
        <Function test_import_module_smoke[src.db.base]>
        <Function test_import_module_smoke[src.db.connection]>
        <Function test_import_module_smoke[src.graph]>
        <Function test_import_module_smoke[src.graph.background]>
        <Function test_import_module_smoke[src.graph.base]>
        <Function test_import_module_smoke[src.graph.registry]>
        <Function test_import_module_smoke[src.graph.router]>
        <Function test_import_module_smoke[src.graph.service]>
      <Module test_ledger_view.py>
        <Class TestLedgerView>
          <Function test_memory_path_constant>
          <Function test_load_memories_success>
          <Function test_load_memories_path_not_found>
          <Function test_load_memories_invalid_json>
          <Function test_load_memories_general_exception>
          <Function test_filter_memories_no_filter>
          <Function test_filter_memories_by_source>
          <Function test_filter_memories_by_tag>
          <Function test_filter_memories_by_source_and_tag>
          <Function test_filter_memories_non_dict_data>
          <Function test_render_rich_table>
          <Function test_render_plain>
          <Function test_main_default_options>
          <Function test_main_plain_output>
          <Function test_main_with_source_and_tag_filter>
          <Function test_empty_memories_render_rich_table>
          <Function test_empty_memories_render_plain>
          <Function test_main_script_execution>
      <Module test_ledger_view_complete.py>
        <Class TestLedgerViewCompleteCoverage>
          <Function test_load_memories_general_exception>
          <Function test_filter_memories_non_dict_data>
          <Function test_main_plain_output>
      <Module test_logger.py>
        <Class TestLogger>
          <Function test_log_event_with_all_parameters>
          <Function test_log_event_with_minimal_parameters>
          <Function test_demo_function>
      <Module test_logger_complete.py>
        <Class TestLoggerCompleteCoverage>
          <Function test_log_event_with_none_memo>
    <Dir db>
      <Module test_alembic_migrations.py>
        <Coroutine test_upgrade_idempotent>
        <Coroutine test_recreate_after_drop>
        <Coroutine test_downgrade_then_upgrade>
        <Coroutine test_schemas_created>
        <Coroutine test_tables_in_correct_schema>
        <Coroutine test_indexes_created>
        <Function test_schema_isolation>
      <Module test_connection.py>
        <Function test_engine_url_switch>
        <Function test_engine_pooling_disabled>
        <Coroutine test_basic_connection>
        <Coroutine test_postgres_specific_features>
        <Function test_database_url_for_tests_no_integration>
        <Function test_database_url_for_tests_with_integration>
        <Class TestDatabaseConnectionUnit>
          <Function test_get_db_session_returns_async_session>
        <Class TestDatabaseConnectionIntegration>
          <Coroutine test_real_db_connection_and_session>
          <Coroutine test_multiple_sessions_work_independently>
    <Package graph>
      <Module test_base.py>
        <Class TestNeo4jClient>
          <Function test_init_creates_client_with_settings>
          <Coroutine test_connect_successful>
          <Coroutine test_connect_fails_with_invalid_credentials>
          <Coroutine test_verify_connectivity_success>
          <Coroutine test_verify_connectivity_failure>
          <Coroutine test_verify_connectivity_no_driver>
          <Coroutine test_close_connection>
          <Coroutine test_session_context_manager>
          <Coroutine test_session_auto_connect>
          <Coroutine test_execute_query_success>
          <Coroutine test_execute_query_with_parameters>
          <Coroutine test_execute_query_error_handling>
          <Function test_is_connected_property>
        <Class TestModuleFunctions>
          <Function test_graph_url_for_tests_with_override>
          <Function test_graph_url_for_tests_with_integration_enabled>
          <Function test_graph_url_for_tests_default>
          <Function test_get_neo4j_client_caching>
          <Function test_get_neo4j_client_test_mode_no_cache>
          <Coroutine test_get_async_neo4j_dependency>
          <Coroutine test_get_async_neo4j_with_integration_enabled>
          <Coroutine test_close_neo4j_connections>
          <Coroutine test_close_neo4j_connections_error_handling>
        <Class TestDriverConfiguration>
          <Function test_rust_driver_flag>
          <Function test_driver_import_logic>
        <Class TestNeo4jIntegration>
          <Coroutine test_real_connection>
          <Coroutine test_real_query_execution>
          <Coroutine test_real_session_management>
      <Module test_registry.py>
        <Class TestNodeType>
          <Function test_node_type_values>
          <Function test_node_type_string_values>
        <Class TestModuleLabel>
          <Function test_module_label_values>
          <Function test_module_label_string_values>
        <Class TestRelationshipType>
          <Function test_relationship_type_values>
        <Class TestGraphRegistry>
          <Function test_get_labels>
          <Function test_format_labels_for_cypher>
          <Function test_create_node_query_basic>
          <Function test_create_node_query_with_properties>
          <Function test_create_node_query_no_return>
          <Function test_match_node_query_basic>
          <Function test_match_node_query_with_where>
          <Function test_create_relationship_query_basic>
          <Function test_create_relationship_query_with_conditions>
          <Function test_get_all_node_types>
          <Function test_get_all_modules>
          <Function test_get_all_relationship_types>
          <Function test_validate_node_structure_valid>
          <Function test_validate_node_structure_invalid_node_type>
          <Function test_validate_node_structure_invalid_module>
          <Function test_get_schema_info>
      <Module test_router.py>
        <Class TestGraphRouter>
          <Function test_health_check_success>
          <Function test_health_check_failure>
          <Function test_get_stats_success>
          <Function test_create_node_success>
          <Function test_create_node_validation_error>
          <Function test_get_node_success>
          <Function test_get_node_not_found>
          <Function test_update_node_success>
          <Function test_delete_node_success>
          <Function test_get_nodes_by_property_success>
          <Function test_search_nodes_success>
          <Function test_search_nodes_no_filters>
          <Function test_create_relationship_success>
          <Function test_get_node_relationships_success>
          <Function test_get_node_relationships_all_directions>
          <Function test_invalid_node_type>
          <Function test_invalid_module_label>
          <Function test_invalid_relationship_type>
          <Function test_server_error_handling>
          <Function test_endpoint_parameter_validation>
          <Function test_missing_required_parameters>
          <Function test_response_schemas>
      <Module test_service.py>
        <Class TestGraphService>
          <Coroutine test_get_graph_stats_success>
          <Coroutine test_create_node_success>
          <Coroutine test_create_node_validation_error>
          <Coroutine test_get_node_success>
          <Coroutine test_get_node_not_found>
          <Coroutine test_update_node_success>
          <Coroutine test_delete_node_success>
          <Coroutine test_delete_node_not_found>
          <Coroutine test_create_relationship_success>
          <Coroutine test_get_node_relationships_success>
          <Coroutine test_get_node_relationships_all_directions>
          <Coroutine test_search_nodes_success>
          <Coroutine test_get_nodes_by_property_success>
          <Coroutine test_empty_results_handling>
          <Coroutine test_query_parameter_passing>
          <Coroutine test_relationship_direction_handling>
    <Package integration>
      <Package backend>
        <Package cc>
          <Module test_crud_integration.py>
            <Class TestCRUDIntegration>
              <Coroutine test_create_module_unique_constraint>
              <Coroutine test_module_cascade_operations>
              <Coroutine test_pagination_with_large_dataset>
              <Coroutine test_concurrent_module_creation>
              <Coroutine test_health_status_ordering>
              <Coroutine test_module_update_with_constraints>
              <Coroutine test_transaction_rollback_behavior>
          <Module test_performance_integration.py>
            <Class TestPerformanceIntegration>
              <Coroutine test_concurrent_module_creation_performance>
              <Coroutine test_bulk_operations_efficiency>
              <Coroutine test_transaction_isolation_reliability>
              <Coroutine test_service_layer_performance>
              <Coroutine test_10_parallel_inserts_do_not_deadlock>
            <Class TestReliabilityIntegration>
              <Coroutine test_error_recovery_maintains_consistency>
          <Module test_router_integration.py>
            <Class TestRouterIntegration>
              <Coroutine test_create_module_endpoint_integration>
              <Coroutine test_get_modules_endpoint_pagination>
              <Coroutine test_get_module_by_id_endpoint>
              <Coroutine test_update_module_endpoint>
              <Coroutine test_health_endpoint_integration>
              <Coroutine test_error_handling_integration>
              <Coroutine test_module_not_found_integration>
          <Module test_services_integration.py>
            <Class TestServicesIntegration>
              <Coroutine test_create_module_service_integration>
              <Coroutine test_get_modules_service_with_pagination>
              <Coroutine test_update_module_service_integration>
              <Coroutine test_get_module_service_integration>
              <Coroutine test_system_health_service_integration>
    <Package scripts>
      <Module test_generate_module.py>
        <Class TestValidateName>
          <Function test_valid_names>
          <Function test_empty_name>
          <Function test_invalid_format>
        <Class TestCopyTemplate>
          <Function test_copy_python_files>
          <Function test_copy_yaml_files>
          <Function test_copy_template_failure>
        <Class TestCopyTestTemplate>
          <Function test_copy_test_files>
        <Class TestPatchAlembic>
          <Function test_patch_alembic_success>
          <Function test_patch_alembic_missing_file>
          <Function test_patch_alembic_already_exists>
        <Class TestUpdateRegistry>
          <Function test_update_registry_success>
          <Function test_update_registry_missing_file>
        <Function test_generate_module_dry_run[tech-pem]>
        <Function test_generate_module_dry_run[zk-auth]>
        <Function test_generate_module_dry_run[content-manager]>
        <Class TestGenerateModuleIntegration>
          <Function test_generate_module_success>
          <Function test_generate_module_already_exists>
          <Function test_generate_module_no_cc_template>
          <Function test_generate_module_invalid_name>
        <Class TestMainFunction>
          <Function test_main_success>
          <Function test_main_dry_run>
          <Function test_main_missing_args>
        <Class TestSlowIntegration>
          <Function test_generate_multiple_modules>
      <Module test_minimal.py>
        <Function test_generate_module_dry_run>
    <Package unit>
      <Package backend>
        <Package cc>
          <Module test_cc_main.py>
            <Class TestCCMain>
              <Function test_cc_app_creation>
              <Function test_cc_router_creation>
              <Coroutine test_lifespan_startup>
              <Coroutine test_lifespan_shutdown>
              <Function test_app_includes_router>
              <Function test_app_with_test_client>
              <Function test_app_startup_shutdown_integration>
            <Class TestLifespanIsolated>
              <Coroutine test_lifespan_exception_handling>
          <Module test_coverage_focused.py>
            <Class TestConnectionCoverage>
              <Function test_database_url_for_tests_with_integration>
              <Function test_database_url_for_tests_no_integration>
              <Function test_database_url_for_tests_in_pytest>
              <Function test_get_async_db_session_factory>
            <Class TestCrudErrorPaths>
              <Coroutine test_create_module_db_error>
              <Coroutine test_get_system_health_db_error>
              <Coroutine test_get_module_db_error>
            <Class TestLoggingCoverage>
              <Function test_log_event_real_call_coverage>
            <Class TestModelDefaultsCoverage>
              <Function test_health_status_defaults_coverage>
              <Function test_module_defaults_coverage>
            <Class TestSchemaValidation>
              <Function test_module_create_basic_validation>
              <Function test_module_update_basic_validation>
              <Function test_health_status_response_serialization>
              <Function test_module_ping_request_validation>
          <Module test_crud.py>
            <Class TestGetSystemHealth>
              <Coroutine test_get_system_health_empty>
              <Coroutine test_get_system_health_single_record>
              <Coroutine test_get_system_health_returns_latest>
              <Coroutine test_get_system_health_multiple_records_order>
            <Class TestModuleCRUD>
              <Coroutine test_create_module_success>
              <Coroutine test_create_module_with_config>
              <Coroutine test_get_module_by_id_exists>
              <Coroutine test_get_module_by_id_not_exists>
              <Coroutine test_get_module_by_name_exists>
              <Coroutine test_get_module_by_name_not_exists>
              <Coroutine test_get_modules_empty>
              <Coroutine test_get_modules_with_data>
              <Coroutine test_get_modules_pagination>
              <Coroutine test_update_module_success>
              <Coroutine test_update_module_not_exists>
              <Coroutine test_update_module_ignore_invalid_fields>
              <Coroutine test_delete_module_success>
              <Coroutine test_delete_module_not_exists>
          <Module test_database_schema.py>
            <Coroutine test_cc_tables_exist>
          <Module test_deps.py>
            <Coroutine test_get_cc_db_returns_session>
            <Function test_dependency_injection_client>
            <Coroutine test_get_cc_db_with_real_session>
            <Function test_dependency_error_handling>
            <Coroutine test_back_compat_alias>
            <Function test_dbsession_type_annotation>
          <Module test_deps_isolated.py>
            <Function test_dependency_imports>
            <Coroutine test_get_cc_db_with_mock_session>
            <Function test_dependency_in_fastapi_context>
            <Function test_dbsession_annotation_with_override>
            <Function test_multiple_dependencies>
          <Module test_log_l1.py>
            <Class TestLogL1BasicFunctionality>
              <Coroutine test_event_only_logging>
              <Coroutine test_prompt_only_logging>
              <Coroutine test_combined_logging>
              <Coroutine test_minimal_logging>
            <Class TestLogL1RequestIdHandling>
              <Coroutine test_request_id_from_context>
              <Coroutine test_request_id_fallback>
              <Coroutine test_explicit_request_id>
            <Class TestLogL1LogfireIntegration>
              <Coroutine test_logfire_span_attributes>
              <Coroutine test_logfire_graceful_degradation>
            <Class TestLogL1ParameterHandling>
              <Coroutine test_empty_payload>
              <Coroutine test_partial_prompt_data>
              <Coroutine test_complex_payload_data>
          <Module test_mem0_models.py>
            <Class TestBaseLogModel>
              <Coroutine test_baselog_creation_with_required_fields>
              <Coroutine test_baselog_with_payload>
              <Coroutine test_baselog_string_representation>
            <Class TestPromptTraceModel>
              <Coroutine test_prompttrace_creation_with_required_fields>
              <Coroutine test_prompttrace_with_optional_fields>
            <Class TestEventLogModel>
              <Coroutine test_eventlog_creation_with_required_fields>
              <Coroutine test_eventlog_with_event_data>
            <Class TestModelBasicIntegration>
              <Coroutine test_cascade_delete_behavior>
          <Module test_models.py>
            <Class TestHealthStatusModel>
              <Function test_table_name_and_schema>
              <Function test_columns_exist>
              <Function test_column_types>
              <Function test_instance_creation>
              <Function test_repr>
              <Function test_default_field_definitions>
            <Class TestModuleModel>
              <Function test_table_name_and_schema>
              <Function test_columns_exist>
              <Function test_column_types>
              <Function test_instance_creation>
              <Function test_repr>
              <Function test_default_field_definitions>
            <Class TestDeclarativeBase>
              <Function test_base_type>
              <Function test_health_status_inherits_base>
              <Function test_module_inherits_base>
            <Class TestEdgeCases>
              <Function test_health_status_required_fields>
              <Function test_module_required_fields>
          <Module test_models_coverage.py>
            <Class TestUUIDType>
              <Function test_uuid_type_cache_ok>
            <Class TestTableArgs>
              <Function test_get_table_args_db_integration_enabled>
              <Function test_get_table_args_db_integration_disabled>
              <Function test_get_table_args_no_env_var>
            <Class TestHealthStatusModel>
              <Function test_health_status_repr>
              <Function test_health_status_defaults>
              <Function test_health_status_with_details>
              <Function test_health_status_custom_timestamp>
            <Class TestModuleModel>
              <Function test_module_repr>
              <Function test_module_repr_inactive>
              <Function test_module_defaults>
              <Function test_module_with_config>
              <Function test_module_inactive>
              <Function test_module_custom_timestamp>
            <Class TestModelTableConfiguration>
              <Function test_health_status_table_name>
              <Function test_module_table_name>
              <Function test_models_extend_base>
              <Function test_models_use_table_args>
          <Module test_router.py>
            <Class TestModuleRouterEndpoints>
              <Function test_create_module_success>
              <Function test_create_module_minimal_data>
              <Function test_create_module_validation_error>
              <Function test_create_module_duplicate_name>
              <Function test_list_modules_empty>
              <Function test_list_modules_with_data>
              <Function test_list_modules_pagination>
              <Function test_get_module_success>
              <Function test_get_module_not_found>
              <Function test_update_module_success>
              <Function test_update_module_partial>
              <Function test_update_module_not_found>
              <Function test_update_module_name_conflict>
              <Function test_delete_module_success>
              <Function test_delete_module_not_found>
              <Function test_module_crud_workflow>
          <Module test_schemas.py>
            <Function test_health_status_schema>
            <Function test_ccconfig_schema>
            <Function test_module_health_status_schema>
            <Function test_system_health_report_schema>
            <Function test_module_ping_request_schema>
            <Function test_module_ping_response_schema>
            <Function test_module_create_schema>
          <Module test_services.py>
            <Class TestModuleServices>
              <Coroutine test_create_module_success>
              <Coroutine test_create_module_with_config>
              <Coroutine test_create_module_duplicate_name_error>
              <Coroutine test_get_module_exists>
              <Coroutine test_get_module_not_exists>
              <Coroutine test_get_module_by_name_exists>
              <Coroutine test_get_module_by_name_not_exists>
              <Coroutine test_get_modules_empty>
              <Coroutine test_get_modules_with_data>
              <Coroutine test_get_modules_pagination>
              <Coroutine test_update_module_success>
              <Coroutine test_update_module_not_exists>
              <Coroutine test_update_module_name_conflict>
              <Coroutine test_update_module_same_name>
              <Coroutine test_delete_module_success>
              <Coroutine test_delete_module_not_exists>
      <Dir common>
        <Module test_ledger_view_coverage.py>
          <Class TestFilterMemoriesEdgeCases>
            <Function test_filter_memories_skips_non_dict_data>
            <Function test_filter_memories_with_invalid_data_types>
          <Class TestRenderRichTableEdgeCases>
            <Function test_render_rich_table_skips_non_dict_data>
            <Function test_render_rich_table_with_all_invalid_data>
          <Class TestRenderPlainEdgeCases>
            <Function test_render_plain_skips_non_dict_data>
          <Class TestMainFunction>
            <Function test_main_function_with_rich_table_rendering>
            <Function test_main_function_with_plain_rendering>
            <Function test_main_function_with_filtering>
          <Class TestMainExecutionBlock>
            <Function test_main_execution_block_directly>
            <Function test_if_name_main_condition_coverage>
          <Class TestMemoryListSorting>
            <Function test_memory_sorting_with_dict_data>
        <Module test_logger_coverage.py>
          <Class TestLogEventFunction>
            <Function test_log_event_with_all_parameters>
            <Function test_log_event_with_minimal_parameters>
            <Function test_log_event_with_none_memo>
            <Function test_log_event_with_empty_string_memo>
          <Class TestDemoFunction>
            <Function test_demo_function_execution>
          <Class TestMainExecution>
            <Function test_main_execution_block_directly>
            <Function test_if_name_main_code_execution>
          <Class TestLoggerModuleExecution>
            <Function test_module_execution_as_main>
          <Class TestLoggerConfiguration>
            <Function test_logger_is_configured>
          <Class TestMemPlaceholder>
            <Function test_mem_placeholder_is_none>
        <Module test_logger_logfire.py>
          <Class TestInitializeLogfire>
            <Function test_initialize_with_token_success>
            <Function test_initialize_without_token_graceful_degradation>
            <Function test_initialize_with_empty_token_graceful_degradation>
            <Function test_initialize_with_whitespace_token_graceful_degradation>
            <Function test_initialize_with_token_but_config_fails>
            <Function test_initialize_with_import_error>
            <Function test_initialize_when_logfire_is_none>
            <Function test_initialize_with_network_error>
            <Function test_initialize_with_timeout_error>
          <Class TestAddSpanAttributes>
            <Function test_add_span_attributes_success>
            <Function test_add_span_attributes_with_logfire_none>
            <Function test_add_span_attributes_empty_dict>
            <Function test_add_span_attributes_exception_handling>
            <Function test_add_span_attributes_set_attribute_exception>
            <Function test_add_span_attributes_with_none_values>
            <Function test_add_span_attributes_with_complex_values>
            <Function test_add_span_attributes_context_manager_exception>
          <Class TestLogfireImportHandling>
            <Function test_logfire_import_success>
            <Function test_import_error_warning_message>
            <Function test_logfire_import_failure_handling>
            <Function test_module_level_import_error_path>
          <Class TestLoggerConfiguration>
            <Function test_logger_is_configured>
            <Function test_logger_level_inheritance>
          <Class TestModuleImports>
            <Function test_required_imports_available>
            <Function test_demo_function_exists>
            <Function test_demo_function_with_logfire_available>
            <Function test_demo_function_with_logfire_unavailable>
          <Class TestMainExecutionPath>
            <Function test_main_execution_path>
            <Function test_main_block_coverage_simulation>
          <Class TestCoverageTargetingSpecific>
            <Function test_direct_execution_of_missing_lines>
            <Function test_importerror_exception_path_simulation>
          <Class TestConcurrentOperations>
            <Function test_concurrent_span_attribute_operations>
          <Class TestProductionScenarios>
            <Function test_production_initialization_scenario>
            <Function test_high_volume_attribute_operations>
            <Function test_retry_scenario_simulation>
        <Module test_request_id_middleware.py>
          <Class TestRequestIDMiddleware>
            <Function test_middleware_inherits_from_base_http_middleware>
            <Function test_middleware_generates_uuid_when_no_header>
            <Function test_middleware_uses_provided_header>
            <Function test_middleware_stores_in_request_state>
            <Coroutine test_context_var_access_pattern>
            <Function test_context_var_isolation>
            <Coroutine test_logfire_span_integration>
            <Coroutine test_logfire_graceful_degradation>
            <Function test_uuid_format_validation>
            <Function test_middleware_preserves_response_content>
            <Function test_concurrent_requests_isolation>
          <Class TestGetRequestIdHelper>
            <Function test_get_request_id_returns_none_when_not_set>
            <Function test_get_request_id_returns_current_value>
          <Class TestMiddlewareIntegration>
            <Coroutine test_end_to_end_flow_with_generated_id>
            <Coroutine test_end_to_end_flow_with_provided_id>
          <Class TestMiddlewareEdgeCases>
            <Coroutine test_middleware_handles_missing_logfire>
            <Coroutine test_middleware_preserves_response_properties>
            <Coroutine test_context_var_default_value>
            <Function test_get_current_request_id_outside_context>
            <Function test_request_state_storage>
            <Function test_response_header_addition>
            <Function test_case_insensitive_header_handling>
            <Function test_context_var_persistence_through_request>
            <Function test_middleware_works_without_logfire>
            <Function test_logfire_span_tagging_success>
            <Function test_logfire_span_tagging_exception_handling>
      <Dir db>
        <Module test_alembic_env.py>
          <Class TestAlembicEnvironmentSysPath>
            <Function test_sys_path_modification>
          <Class TestDotenvLoading>
            <Function test_dotenv_loading_success>
            <Function test_dotenv_loading_import_error>
          <Class TestDatabaseURLLogic>
            <Function test_migrate_url_direct>
            <Function test_dev_url_transformation>
            <Function test_no_database_url_error>
          <Class TestIncludeObjectFunction>
            <Function test_include_object_table_in_watched_schemas>
            <Function test_include_object_table_not_in_watched_schemas>
            <Function test_include_object_non_table_type>
          <Class TestAlembicEnvironment>
            <Function test_run_migrations_online_executes_without_error>
            <Function test_run_migrations_offline_executes_without_error>
            <Function test_alembic_env_main_logic_online_mode>
            <Function test_alembic_env_main_logic_offline_mode>
            <Function test_alembic_env_target_metadata_setup>
            <Function test_alembic_env_logging_setup>
      <Module test_cos_main_coverage.py>
        <Class TestCosMainSysPath>
          <Function test_sys_path_insert_when_not_in_path>
          <Function test_src_path_construction>
          <Function test_sys_path_already_contains_src_path>
          <Function test_path_string_conversion>
        <Class TestCosMainModuleImports>
          <Function test_backend_cc_router_import>
          <Function test_common_logger_import>
          <Function test_fastapi_import>
        <Class TestCosMainAppCreation>
          <Function test_app_instance_creation>
          <Function test_router_mounting>
        <Class TestCosMainLogEvent>
          <Function test_startup_log_event_called>
          <Function test_log_event_parameters>
        <Class TestCosMainFileStructure>
          <Function test_path_parent_calculation>
          <Function test_module_docstring_exists>

=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.13.3-final-0 _______________

Name                                  Stmts   Miss  Cover   Missing
-------------------------------------------------------------------
src\__init__.py                           0      0   100%
src\backend\__init__.py                   0      0   100%
src\backend\cc\__init__.py                0      0   100%
src\backend\cc\background.py             64     64     0%   9-212
src\backend\cc\cc_main.py                68     39    43%   35-37, 48-63, 79-82, 101-116, 133-168
src\backend\cc\crud.py                   61     47    23%   36-45, 68-87, 112-121, 146-157, 179-188, 210-219, 242-251, 274-292, 314-329
src\backend\cc\deps.py                   11      2    82%   38-44
src\backend\cc\logging.py                64     56    12%   56-143
src\backend\cc\mem0_crud.py              77     64    17%   21-25, 30-32, 37-39, 46-57, 64-78, 83-89, 94-125, 130-140, 145-150
src\backend\cc\mem0_models.py            76     12    84%   31, 41, 76-81, 86, 90, 150, 217, 293
src\backend\cc\mem0_router.py            61     35    43%   23-29, 35-38, 44-47, 59-60, 66-69, 75-78, 84-85, 92-93, 99-102, 108-111
src\backend\cc\mem0_service.py           63     48    24%   26-40, 45-54, 59-68, 76-98, 105-119, 124-133, 138-183, 188-206
src\backend\cc\models.py                 63     24    62%   31-34, 37-40, 43-46, 55, 76-80, 84, 106-112, 116
src\backend\cc\router.py                 91     53    42%   54-66, 80-86, 100-106, 128-136, 145-151, 172-218, 238-251, 267-275, 290-301, 317-334, 349-360
src\backend\cc\schemas.py               106      4    96%   38, 176, 230, 235
src\backend\cc\services.py               62     40    35%   35-41, 62, 83-105, 131-142, 168-183, 216-229, 251-258, 280-287, 310-317, 344-357, 379-386
src\common\__init__.py                    0      0   100%
src\common\config.py                     37      5    86%   45, 50-52, 62
src\common\database.py                   75     51    32%   38-44, 50-58, 64-92, 98-119, 124-129, 134-136
src\common\ledger_view.py                72     57    21%   17-30, 34-43, 47-61, 65-71, 75-94
src\common\logger.py                     26      5    81%   74-77, 90
src\common\logger_logfire.py             35     25    29%   18-21, 32-46, 57-66, 72
src\common\request_id_middleware.py      37     21    43%   34-35, 59-85, 90-93
src\cos_main.py                          14     14     0%   3-31
src\db\__init__.py                        0      0   100%
src\db\base.py                            9      0   100%
src\db\connection.py                     45     30    33%   26-39, 48-54, 59-75, 82-83, 88-90, 94-99, 109
src\graph\__init__.py                     0      0   100%
src\graph\background.py                 125    125     0%   7-401
src\graph\base.py                       113     81    28%   31-32, 55-56, 67-72, 76-107, 111-115, 124-139, 144-160, 164-192, 197, 203-211, 218-227, 232-244, 249-263
src\graph\registry.py                    72     30    58%   66, 82-83, 103-107, 127-130, 161-171, 181, 186, 191, 208-240, 251
src\graph\router.py                     136     68    50%   99, 106-117, 125-129, 136-144, 155-164, 176-185, 197-206, 219-225, 237-243, 252-267, 280-284, 291-293
src\graph\service.py                    115     99    14%   19, 43-69, 85-93, 113-119, 138-168, 187-219, 250-281, 306-327, 353-385, 389-390, 405-420
-------------------------------------------------------------------
TOTAL                                  1778   1099    38%
Coverage HTML written to dir htmlcov
======================== 831 tests collected in 2.54s =========================
